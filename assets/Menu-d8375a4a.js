import{r as c,j as e,c as g,u as x,L as f,a as j,b as v,P as N,A as y,H as w}from"./index-eae590e4.js";const b="_input_1e1bp_1",k="_icon_1e1bp_18",d={input:b,"input-wrapper":"_input-wrapper_1e1bp_14",icon:k},F=c.forwardRef(function({isValid:t=!0,className:n,...r},o){return e.jsxs("div",{className:d["input-wrapper"],children:[e.jsx("input",{ref:o,className:g(d.input,n,{[d.invalid]:t}),...r}),e.jsx("img",{className:d.icon,src:"/search-icon.svg",alt:"Иконка лупы"})]})}),$="_head_12z56_1",E={head:$},L="_head_f9uo7_1",S="_card_f9uo7_7",I="_footer_f9uo7_14",P="_title_f9uo7_18",A="_description_f9uo7_26",C="_link_f9uo7_34",M="_price_f9uo7_38",R="_currency_f9uo7_52",D="_rating_f9uo7_56",a={head:L,card:S,footer:I,title:P,description:A,link:C,price:M,currency:R,rating:D,"add-to-cart":"_add-to-cart_f9uo7_71"};function H(s){const t=x(),n=r=>{r.preventDefault(),t(j.add(s.id))};return e.jsx(f,{to:`/product/${s.id}`,className:a.link,children:e.jsxs("div",{className:a.card,children:[e.jsxs("div",{className:a.head,style:{backgroundImage:`url('${s.image}')`},children:[e.jsxs("div",{className:a.price,children:[s.price," ",e.jsx("span",{className:a.currency,children:"₽"})]}),e.jsx("button",{className:a["add-to-cart"],onClick:n,children:e.jsx("img",{src:"/cart-button-icon.svg",alt:"Добавить в корзину"})}),e.jsxs("div",{className:a.rating,children:[s.rating," ",e.jsx("img",{src:"/star-icon.svg",alt:"Иконка звезды"})]})]}),e.jsxs("div",{className:a.footer,children:[e.jsx("div",{className:a.title,children:s.name}),e.jsx("div",{className:a.description,children:s.description})]})]})})}const z="_wrapper_7fxue_1",X={wrapper:z};function q({products:s}){return e.jsx("div",{className:X.wrapper,children:s.map(t=>e.jsx(H,{id:t.id,name:t.name,description:t.ingredients.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function G(){const[s,t]=c.useState([]),[n,r]=c.useState(!1),[o,_]=c.useState(),[u,h]=c.useState();c.useEffect(()=>{p(u)},[u]);const p=async l=>{try{r(!0);const{data:i}=await v.get(`${N}/products`,{params:{name:l}});t(i),r(!1)}catch(i){console.error(i),i instanceof y&&_(i.message),r(!1);return}},m=l=>{h(l.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:E.head,children:[e.jsx(w,{children:"Меню"}),e.jsx(F,{placeholder:"Введите блюдо или состав",onChange:m})]}),e.jsxs("div",{children:[o&&e.jsx(e.Fragment,{children:o}),!n&&s.length>0&&e.jsx(q,{products:s}),n&&e.jsx(e.Fragment,{children:"Загружаем продукты..."}),!n&&s.length===0&&e.jsx(e.Fragment,{children:"Не найдено блюд по запросу"})]})]})}export{G as Menu,G as default};

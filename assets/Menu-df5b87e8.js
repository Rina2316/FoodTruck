import{r as n,j as e,c as g,u as x,L as f,a as j,b as v,P as N,A as k,H as y}from"./index-8ce4dbd8.js";const F="_input_1e1bp_1",w="_icon_1e1bp_18",d={input:F,"input-wrapper":"_input-wrapper_1e1bp_14",icon:w},b=n.forwardRef(function({isValid:t=!0,className:r,...c},o){return e.jsxs("div",{className:d["input-wrapper"],children:[e.jsx("input",{ref:o,className:g(d.input,r,{[d.invalid]:t}),...c}),e.jsx("img",{className:d.icon,src:"/FoodTruck/search-icon.svg",alt:"Иконка лупы"})]})}),$="_head_12z56_1",E={head:$},L="_head_f9uo7_1",S="_card_f9uo7_7",I="_footer_f9uo7_14",P="_title_f9uo7_18",T="_description_f9uo7_26",A="_link_f9uo7_34",C="_price_f9uo7_38",M="_currency_f9uo7_52",R="_rating_f9uo7_56",a={head:L,card:S,footer:I,title:P,description:T,link:A,price:C,currency:M,rating:R,"add-to-cart":"_add-to-cart_f9uo7_71"};function D(s){const t=x(),r=c=>{c.preventDefault(),t(j.add(s.id))};return e.jsx(f,{to:`/FoodTruck/product/${s.id}`,className:a.link,children:e.jsxs("div",{className:a.card,children:[e.jsxs("div",{className:a.head,style:{backgroundImage:`url('${s.image}')`},children:[e.jsxs("div",{className:a.price,children:[s.price," ",e.jsx("span",{className:a.currency,children:"₽"})]}),e.jsx("button",{className:a["add-to-cart"],onClick:r,children:e.jsx("img",{src:"/FoodTruck/cart-button-icon.svg",alt:"Добавить в корзину"})}),e.jsxs("div",{className:a.rating,children:[s.rating," ",e.jsx("img",{src:"/FoodTruck/star-icon.svg",alt:"Иконка звезды"})]})]}),e.jsxs("div",{className:a.footer,children:[e.jsx("div",{className:a.title,children:s.name}),e.jsx("div",{className:a.description,children:s.description})]})]})})}const H="_wrapper_7fxue_1",z={wrapper:H};function X({products:s}){return e.jsx("div",{className:z.wrapper,children:s.map(t=>e.jsx(D,{id:t.id,name:t.name,description:t.ingredients.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function B(){const[s,t]=n.useState([]),[r,c]=n.useState(!1),[o,_]=n.useState(),[u,h]=n.useState();n.useEffect(()=>{p(u)},[u]);const p=async l=>{try{c(!0);const{data:i}=await v.get(`${N}/products`,{params:{name:l}});t(i),c(!1)}catch(i){console.error(i),i instanceof k&&_(i.message),c(!1);return}},m=l=>{h(l.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:E.head,children:[e.jsx(y,{children:"Меню"}),e.jsx(b,{placeholder:"Введите блюдо или состав",onChange:m})]}),e.jsxs("div",{children:[o&&e.jsx(e.Fragment,{children:o}),!r&&s.length>0&&e.jsx(X,{products:s}),r&&e.jsx(e.Fragment,{children:"Загружаем продукты..."}),!r&&s.length===0&&e.jsx(e.Fragment,{children:"Не найдено блюд по запросу"})]})]})}export{B as Menu,B as default};
